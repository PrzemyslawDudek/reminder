<!DOCTYPE html>
<!--
  ~ Copyright (c) 2018 dudekjunior.pl
  ~
  ~
  -->

<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Reminder 2.0</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>

    <div style="width: 600px;  margin-top: 50px; margin-left: auto; margin-right: auto">
        <div>
            <h1>
                Reminder 2.0
            </h1>
            <div th:if="${!userSession.isLogin()}">
                <form action="/login" method="post" th:object="${loginForm}">
                    <input type="text" placeholder="yourLogIn" th:field="*{login}">
                    <input type="password" placeholder="yourPassword" th:field="*{password}">
                    <button type="submit" class="btn btn-primary">LogIn</button>
                    <a href="/register" class="btn btn-info" role="button">Register</a>
                </form>
                <p th:if="${tryLogin != null}" th:text="${tryLogin}"></p>
            </div>
            <div th:if="${userSession.isLogin()}">
                <a href="/logOut" class="btn btn-info" role="button">LogOut</a>
            </div>
        </div>
        <div th:if="${!userSession.isLogin()}">
            Treść dla użytkownika niezalogowanego
        </div>
        <div th:if="${userSession.isLogin()}">
            <div>
                User: <span th:text="${userSession.getUserEntity().getUserLogin()}"></span>
            </div>
            <div>
                <a href="/addTask" class="btn btn-info" role="button">Add Task</a>
            </div>
            <div th:each="task : ${userSession.getUserEntity().getUserTasks()}">
                <span th:text="${task.getTaskTitle()}"></span>
                <span th:if="${task.isDone()}">done</span>
                <a th:if="${!task.isDone()}" th:href="'/task/'
                + ${task.getId()}" class="btn btn-info" role="button">
                    done
                </a>
            </div>

            Treść tylko dla zalogowanego użykownika
        </div>
    </div>

</body>
</html>